<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>淫乱妖姬</title>
</head>

<body>
<script>
    function getQueryVariables(){
        var query = window.location.search.substring(1);
        let t = {};
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            t[pair[0]] = pair[1];
        }
        return t;
    }
    let sdkVars = getQueryVariables();
	let sdkUserId = sdkVars["userid"];
	let sdkToken = sdkVars["token"];
	let sdkChannel = sdkVars["channel"];
	let sdkHost = sdkVars["host"];
    sdkChannel = sdkChannel ? sdkChannel : "";
	sdkHost = sdkHost ? sdkHost : "";
    console.log(JSON.stringify(sdkVars))


    function callback(ret, data){
        android.loginCallback(ret, JSON.stringify(data));
    };

    function check(){
        if(!sdkUserId || sdkUserId == ""){
            callback("参数错误");
            return;
        }
        if(!sdkToken || sdkToken == ""){
            callback("参数错误");
            return;
        }
        callback("ok", {
            userId: sdkUserId,
            token: sdkToken,
            channel: sdkChannel,
            host: sdkHost,
        });
    }
    check();
</script>
</body>

</html>